<div class="d-flex justify-content-between align-items-center">
  <select
    name="state"
    class={{if this.args.selectedState "has-filters-applied" "no-filters-applied"}}
    data-test-id="select-state-dropdown"
    {{on "change" (fn this.args.selectState)}}
  >
    {{#each this.args.usStates as |state|}}        
      <option value={{state.abbreviation}}>{{state.name}}</option>      
    {{/each}} 
  </select>

  <p>Total Count: {{this.args.meta.totalCount}}</p>
</div>

{{#if this.args.filers.length}}
  <table class="standard-table">
    <thead>
      <tr>
        <th>EIN</th>
        <th>Name</th>
        <th>Address</th>
        <th>City</th>
        <th>State</th>
        <th>Postal Code</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {{#each this.args.filers as |filer|}}
        <tr>
          <td data-test-id="filter-ein">{{filer.attributes.ein}}</td>
          <td data-test-id="filter-name">{{filer.attributes.name}}</td>
          <td data-test-id="filter-address">{{filer.attributes.address}}</td>
          <td data-test-id="filter-city">{{filer.attributes.city}}</td>
          <td data-test-id="filter-state">{{filer.attributes.state}}</td>
          <td data-test-id="filter-postal-code">{{filer.attributes.postal_code}}</td>
          <td data-test-id="filter-actions">
            <BsButton
              @onClick={{action this.args.selectFiler filer}}
              data-test-id="view-filer"
            >
              View
            </BsButton>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
{{else}}
  No filers available.
{{/if}}

{{#if this.args.selectedFiler}}
  <TableFilerPanel
    @filer={{this.args.selectedFiler}}
    @closePanel={{this.args.closePanel}}
  />
{{/if}}